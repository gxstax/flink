# 第二章：流处理基础

## Dataflow图
> 描述数据在操作之间的流动，通常表示为有向图；
> **顶点**：算子，表示计算；
> **边**: 表示数据依赖关系；
> **数据源**：没有输入端的算子；
> **数据汇**：没有输出端的算子；

## 流处理指标
* 延迟
> **处理一个事件所需的时间；**</br>
> 保证低延时对很多流式应用（如：诈骗识别、系统告警、网络监测等遵循服务级别协议（SLA）的服务）至关重要。
* 吞吐
> **系统处理速率指标；**

## 流处理中的时间语义
> 有时由于网络原因，事件发生的时刻并没有发出，等到网络恢复后，该事件才被发出，那么就面临一个问题，我们接受到的
> 事件时间是应用处理的时间，而非事件实际发生时间；
* 处理时间
* 事件时间
* 水位线
    > **水位线**是一个全局进度指标，表示我们确信不会再有延时事件到来的某个时间点；

## 状态和一致性模型
* 状态管理
* 状态划分
* 状态恢复
## 任务故障

## 结果保障
* 至多一次
* 至少一次
* 精确一次
    > 最严格，最难实现的一种保障；
    > 事务型更新是实现该目标的一个方法（比如kafka采用的是这类方法）；
    > Flink 采用了轻量级检查点机制来实现精确一次结果保障；
* 端到端的精确一次
